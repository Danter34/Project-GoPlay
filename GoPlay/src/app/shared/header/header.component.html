<nav class="navbar">
  <div class="container nav-container">
    
    <div class="left-section">
      <div class="mobile-menu-btn" (click)="openSidebar()">
        <i class="fas fa-bars"></i>
      </div>
      <a routerLink="/" class="logo">
        <i class="fas fa-futbol"></i> GoPlay
      </a>
    </div>
    <div class="search-header">
  <input
    type="text"
    placeholder="Tìm sân theo tên, khu vực..."
    [(ngModel)]="keyword"
    (keyup.enter)="onSearch()"
  />
  <button (click)="onSearch()">
    <i class="fas fa-search"></i>
  </button>
</div>

    <div class="right-section">
  
  <a *ngIf="!currentUser" routerLink="/login" class="btn-login">Đăng nhập</a>

  <div class="user-dropdown" *ngIf="currentUser" (click)="toggleUserMenu()">
  
  <div class="user-avatar">
    <i class="fas fa-user-circle"></i>
    <span class="user-name">{{ currentUser.unique_name || currentUser.email }}</span>
  </div>
  
  <div class="dropdown-content" [class.show]="isUserMenuOpen">
    <a href="profile">Hồ sơ của tôi</a>
    <a *ngIf="currentUser?.role === 'Admin'" routerLink="/admin/dashboard">
    <i class="fas fa-user-shield"></i> Trang Quản trị
  </a>
    <a *ngIf="currentUser?.role === 'User'" routerLink="/owner/register">
    Trở thành chủ sân
    </a>
    <a *ngIf="currentUser?.role === 'OwnerField'" routerLink="/owner/dashboard">
    <i class="fas fa-chart-line"></i> Quản lý sân
    </a>
  <div class="divider" style="height:1px; background:#eee; margin:5px 0;"></div>
    <a (click)="onLogout()">Đăng xuất</a>
  </div>

</div>

</div>

  </div>
</nav>

<aside class="sidebar-menu" [class.active]="isSidebarOpen">
  <div class="sidebar-header">
    <span class="sidebar-title">Menu</span>
    <button class="close-btn" (click)="closeSidebar()">&times;</button>
  </div>
  
  <div class="sidebar-links">
    <a routerLink="/" class="sidebar-link" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" (click)="closeSidebar()">
      <i class="fas fa-home"></i> Trang chủ
    </a>
    <a *ngIf="currentUser?.role === 'Admin'" routerLink="/admin/dashboard" class="sidebar-link" (click)="closeSidebar()">
    <i class="fas fa-user-shield"></i> Trang Quản trị
  </a>
    <a *ngIf="currentUser?.role === 'OwnerField'" routerLink="/owner/dashboard" class="sidebar-link" (click)="closeSidebar()">
      <i class="fas fa-tasks"></i> Quản lý sân
    </a>
    <a routerLink="/my-bookings" class="sidebar-link" (click)="closeSidebar()">
      <i class="fas fa-history"></i> Lịch sử đặt sân
    </a>
    <a routerLink="/map" class="sidebar-link" routerLinkActive="active" (click)="closeSidebar()">
      <i class="fas fa-map-marked-alt"></i> Bản đồ
    </a>
    <a routerLink="/news" class="sidebar-link" routerLinkActive="active" (click)="closeSidebar()">
      <i class="fas fa-newspaper"></i> Tin tức
    </a>
    <a routerLink="/contact" class="sidebar-link" routerLinkActive="active" (click)="closeSidebar()">
      <i class="fas fa-envelope"></i> Liên hệ
    </a>
  </div>
</aside>

<div class="sidebar-overlay" [class.active]="isSidebarOpen" (click)="closeSidebar()"></div>