<div class="container detail-page" *ngIf="field">
  
  <div class="gallery-section">
    <div class="main-image">
      <img [src]="selectedImage || 'assets/placeholder.jpg'" alt="Main view">
    </div>
    <div class="thumbnail-list">
      <img *ngFor="let img of field.images" 
           [src]="img.imageUrl" 
           (click)="changeImage(img.imageUrl)" 
           [class.active]="img.imageUrl === selectedImage">
    </div>
  </div>

  <div class="info-section">
    <div class="header-info">
      <h1 class="title">{{ field.fieldName }}</h1>
      <p class="address">
        <i class="fas fa-map-marker-alt"></i> 
        {{ field.address ? field.address + ', ' : '' }}{{ field.district }}, {{ field.city }}
      </p>
    </div>

    <div class="price-box">
      <span class="label">Giá thuê từ:</span>
      <span class="price">{{ field.price | number }}đ / giờ</span>
    </div>

    <div class="specs">
      <div class="spec-item">
        <strong>Môn:</strong> {{ field.sportName }}
      </div>
      <div class="spec-item">
        <strong>Đánh giá:</strong> {{ field.averageRating }} <i class="fa fa-star text-warning"></i>
      </div>
      <div class="spec-item">
        <strong>Lượt đánh giá:</strong> {{ field.totalReviews }}
      </div>
    </div>

    <div class="actions">
        <button class="btn-booking" *ngIf="field && currentUserId !== field.ownerId" 
          (click)="openBooking()"> Đặt lịch ngay
        </button>
      
      <button class="btn-contact" 
              *ngIf="field && currentUserId !== field.ownerId" 
              (click)="contactOwner()">
        Liên hệ chủ sân
      </button>
    </div>
    
    <app-booking-modal *ngIf="showBookingModal" 
      [field]="field" 
      (close)="closeBooking()">>
    </app-booking-modal>

    <div class="description">
      <h3>Mô tả</h3>
      <p *ngIf="field.description; else noDesc" class="desc-content">
        {{ field.description }}
      </p>
      <ng-template #noDesc>
        <p class="text-muted">Chủ sân chưa cập nhật mô tả chi tiết cho sân này.</p>
      </ng-template>
    </div>
    
  </div>
</div>